# 물음표
> 수어 사용자와 구어 사용자가 실시간으로 소통할 수 있는 양방향 통역 영상통화 서비스를 개발했습니다.  
> 사용자가 카메라 앞에서 수어를 사용하면 수어 단어들을 인식하여 텍스트로 변환 후 자연스러운 구어 음성으로 만들어 들려드립니다.  
> 또한, 사용자가 구어를 사용하면 텍스트로 변환 후 수어로 사용되는 단어들로 변환 후 수어 애니메이션을 조합하여 재생해줍니다.

### 기대 효과
> 농인과 수어를 모르는 사람과의 의사소통을 도움으로써 농인과의 의사소통 문제를 해결할 수 있습니다.  
> 이를 활용한다면 공공기관, 교육, 의료 등 많은 곳에서 농인들이 더욱 편하고 합리적인 서비스를 받을 수 있을 것으로 기대합니다.

<br/><br/>

## 주요 기능
- 1:1 실시간 영상통화 기능을 제공합니다.
- 수어 모션을 실시간으로 인식하여 음성으로 통역하는 기능을 제공합니다.
- 음성을 적절한 수어 애니메이션으로 변환하여 통역해주는 기능을 제공합니다.

<br/><br/>

## 기술 스택
- Server
  - Python 3
  - FastAPI
  - Flask Socket IO
  - node.js
- Client
  - ReactJS 18.2.0
  - socket.io-client 4.6.2
- Testing
  - Postman
- DB
  - MySQL
- DevOps
  - AWS EC2 (Ubuntu)
  - AWS RDS
  - AWS S3
  - Nginx
  - Github
- Communication
  - Notion


<br/><br/>


## Backend System Architecture
![SystemArchitecture](./image/SystemArchitecture.png)

<br/><br/>


## 구현 기능

<br/>

#### 애플리케이션 서버
- 애플리케이션 서버
  - 라우팅 API
    - 비즈니스 로직에 맞추어 각 기능의 API를 호출합니다.
  - TTS API
    - 텍스트를 음성 파일로 변환하여 AWS S3에 업로드하고 DB에 정보를 저장합니다.
  - 문법 변환 API
    - 수어로 변환하기 힘든 NER을 인식해서 대명사로 변환합니다.
    - Chat GPT를 사용하여 구어와 수어간의 문법을 변환하여 응답합니다.
  - 수어 애니메이션 맵핑 API
    - 수어 단어 텍스트에 맞게 AWS S3에 업로드된 수어 애니메이션 정보를 DB에서 가져와 응답합니다.
  - 화상통화 관리 API
- 클라이언트
  - 1대1 영상통화
    - WebRTC P2P 방식의 연결을 통해 영상통화를 제공합니다.
  - 웹 페이지 구성
- 실시간 수어 인식 서버
  - 웹캠을 통해 인식되는 수어를 단어로 변환하여 수어 인식이 종료되면 애플리케이션 서버로 변환 요청을 보냅니다.
- Signalling Server
  - 두 사용자의 WebRTC 연결을 위한 데이터를 주고 받도록 도와주고 화상통화 방을 생성합니다.


<br/><br/>

## 역할
#### 전주호 (팀장)
- 아키텍처 및 DB 설계
  - 통역되는 과정 설계
  - 배포 방법 설계
- 라우팅 API
- 문법 변환 API
- 1대1 화상통화 구현
  - 클라이언트, 시그널링 서버, 관리 API

#### 박종현
- 웹 페이지 구현
- 3D 수어 애니메이션 제작
- 문법 변환 API
- 수어 애니메이션 맵핑 API

#### 박상환
- 실시간 수어 인식 Socket API

#### 백기환
- TTS API
- 웹 페이지 구현
- NER 변환

<br/><br/>


## 실제 화면
- 말한 내용을 인식하여 밑에 텍스트로 출력해줄 뿐만 아니라 카메라 하단에 수어 애니메이션이 나와 농인이 알아 볼 수 있도록 합니다.
  ![수어애니메이션캡쳐](https://github.com/team-question-mark/ClientView/assets/108380607/5abf9cca-e73c-4bf0-b571-220ff578bd3b)

- 수어 행위자의 수어를 인식하여 단어들을 추출하고 GPT모델을 통하여 자연스러운 문장으로 만든 후 TTS를 만들어 mp3파일을 s3 버킷에 저장후 상대방에게 음성으로 수어 내용을 전달합니다.
  ![수어행위캡쳐](https://github.com/team-question-mark/ClientView/assets/108380607/d274192e-1c76-4e14-97ac-c7df58ce1fde)

- 수어와 구어의 문법 변환
  ![문법](https://github.com/team-question-mark/ClientView/assets/108380607/e5ec0198-07c6-44c5-a79a-ca035eb2e927)


<br/><br/>

## 회고
> 주어진 환경에서 최선을 다하기 위해서 배포하는 과정을 최소화하려고 노력했습니다. 이번 프로젝트는 팀원들 모두 처음 시도하는 작업들이 많았습니다. 따라서 기능 구현에 더 많은 집중을 하기 위해서 효율적인 배포가 아닌 빠른 배포를 하려고 했습니다. 각 팀원들이 만들 기능들을 모두 API로 구현하게 한 후 배포했습니다. 이로 인해 기능간의 의존성을 낮추고 API 요청과 응답만을 고려하도록 해서 기능간의 충돌이나 코드를 통합하여 배포하는 과정에서의 충돌을 줄일 수 있었습니다. 하지만 학습 여건이 충분치 않아 선택한 이 방법은 작은 API 기능들 또한 분리하게 하여 효율적이지 못하고 속도가 느려질 수 있는 방법이라 생각이 듭니다. 다음 프로젝트에서는 이 방법이 아닌 더 효율적이고 빠른 배포 방법을 적용하고자 합니다.

> 부족한 AI 지식을 갖고 수어로 사용되는 단어와 말할 때 사용되는 단어의 차이를 극복하기 위해서 형태소 분석부터 KoBERT모델, 다양한 GPT모델 등 많이 사용해봤지만 충분한 성능이 나오지 않았습니다. 결국은 ChatGPT API에 적절한 프롬프트로 요청하였을 때 가장 성능이 좋아 채택했습니다. 수어 인식 또한 비슷한 경험으로 너무 아쉽지만, 팀원들과 했던 노력들을 통해 이후 더 좋은 서비스를 만들 수 있을 것이라는 자신감이 생겼습니다!
